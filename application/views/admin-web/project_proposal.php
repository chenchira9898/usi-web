 <!-- partial -->
 <div class="main-panel">
        <div class="content-wrapper">

          <h1 class="center">ข้อเสนอโครงการ</h1>

                
                   
<div class="row">
    <div class="col-lg-12 col-md-7 col-sm-12 col-xs-12">
        <div class="data-table-list mg-t-30" style="min-height: 460px;">
            <div class="cmp-tb-hd cmp-int-hd">
                <h2>ข้อเสนอโครงการทั้งหมด</h2>
            </div>
            <div class="table-responsive">
                <table id="data-table-basic" class="table __table-striped hover stripe">
                    <thead>
                        <tr>
                            <th>ไอดี</th>
                            <th>ประเภทโครงการ</th>
                            <th>ชื่อโครงการ</th>
                            <th>ชื่อผู้ขอรับการสนับสนุน</th>
                             <th>หมายเลขใบสมัครคูปองวิทย์</th>
                             <th>ที่อยู่</th>
                            <th>เบอร์ติดต่อผู้ขอรับการสนับสนุน</th>
                            <th>ชื่อที่ปรึกษาเทคโนโลยี</th>
                            <th>หมายเลขที่ปรึกษาเทคโนโลยี</th>
                            <th>ชื่อศูนย์ความเชี่ยวชาญ</th>
                            <th>งบประมาณโครงการ</th>
                             <th>ชื่อพี่เลี้ยงธุรกิจ</th>
                            <th>ระยะเวลาโครงการ</th>
                            <th>ประเภทผู้ประกอบการ</th>
                            <th>รูปแบบการให้คูปองวิทย์เพื่อโอทอป</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                    <tfoot>
                        <tr>
                           <th>ไอดี</th>
                            <th>ประเภทโครงการ</th>
                            <th>ชื่อโครงการ</th>
                            <th>ชื่อผู้ขอรับการสนับสนุน</th>
                             <th>หมายเลขใบสมัครคูปองวิทย์</th>
                             <th>ที่อยู่</th>
                            <th>เบอร์ติดต่อผู้ขอรับการสนับสนุน</th>
                            <th>ชื่อที่ปรึกษาเทคโนโลยี</th>
                            <th>หมายเลขที่ปรึกษาเทคโนโลยี</th>
                            <th>ชื่อศูนย์ความเชี่ยวชาญ</th>
                            <th>งบประมาณโครงการ</th>
                             <th>ชื่อพี่เลี้ยงธุรกิจ</th>
                            <th>ระยะเวลาโครงการ</th>
                            <th>ประเภทผู้ประกอบการ</th>
                            <th>รูปแบบการให้คูปองวิทย์เพื่อโอทอป</th>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
    </div>
    <div class="row">
    <div class="col-sm"></div>
    <div class="col-lg-10 col-md-5 col-sm-12 col-xs-12">
        <div class="form-example-wrap mg-t-30" style="min-height: 460px;">
            <form id="form-computer">
                <div class="cmp-tb-hd cmp-int-hd">
                    <h2>จัดการข้อเสนอโครงการ</h2>
                </div><br/>
                <div class="form-example-int form-horizental">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <label class="hrzn-fm">ไอดี</label>
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <div class="nk-int-st">
                                    <input type="text" id="prop_ID" class="form-control input-sm" placeholder="" required>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-example-int form-horizental mg-t-15">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <label class="hrzn-fm">ประเภทโครงการ</label>
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <div class="nk-int-st">
                                    <input type="text" id="prop_type" class="form-control input-sm" placeholder="" required>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-example-int form-horizental mg-t-15">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <label class="hrzn-fm">ชื่อโครงการ</label>
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <div class="nk-int-st">
                                    <input type="text" id="prop_name" class="form-control input-sm" placeholder="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-example-int form-horizental mg-t-15">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <label class="hrzn-fm">ชื่อผู้ขอรับการสนับสนุน</label>
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <div class="nk-int-st">
                                    <input type="text" id="name_applicant" class="form-control input-sm" placeholder="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-example-int form-horizental mg-t-15">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <label class="hrzn-fm">หมายเลขใบสมัครคูปองวิทย์</label>
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <div class="nk-int-st">
                                    <input type="text" id="number_applicat" class="form-control input-sm" placeholder="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-example-int form-horizental mg-t-15">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <label class="hrzn-fm">ที่อยู่</label>
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <div class="nk-int-st">
                                    <input type="text" id="prop_address" class="form-control input-sm" placeholder="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-example-int form-horizental mg-t-15">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <label class="hrzn-fm">เบอร์ติดต่อผู้ขอรับการสนับสนุน</label>
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <div class="nk-int-st">
                                    <input type="text" id="prop_contact" class="form-control input-sm" placeholder="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-example-int form-horizental mg-t-15">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <label class="hrzn-fm">ชื่อที่ปรึกษาเทคโนโลยี</label>
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <div class="nk-int-st">
                                    <input type="text" id="name_tech_advisor" class="form-control input-sm" placeholder="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-example-int form-horizental mg-t-15">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <label class="hrzn-fm">หมายเลขที่ปรึกษาเทคโนโลยี</label>
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <div class="nk-int-st">
                                    <input type="text" id="number_tech_advisor" class="form-control input-sm" placeholder="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-example-int form-horizental mg-t-15">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <label class="hrzn-fm">ชื่อศูนย์ความเชี่ยวชาญ</label>
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <div class="nk-int-st">
                                    <input type="text" id="name_center_expertise" class="form-control input-sm" placeholder="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-example-int form-horizental mg-t-15">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <label class="hrzn-fm">งบประมาณโครงการ</label>
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <div class="nk-int-st">
                                    <input type="text" id="project_budget" class="form-control input-sm" placeholder="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-example-int form-horizental mg-t-15">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <label class="hrzn-fm">ชื่อพี่เลี้ยงธุรกิจ</label>
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <div class="nk-int-st">
                                    <input type="text" id="business_name" class="form-control input-sm" placeholder="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-example-int form-horizental mg-t-15">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <label class="hrzn-fm">ระยะเวลาโครงการ</label>
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <div class="nk-int-st">
                                    <input type="text" id="project_timeline" class="form-control input-sm" placeholder="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-example-int form-horizental mg-t-15">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <label class="hrzn-fm">ประเภทผู้ประกอบการ</label>
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <div class="nk-int-st">
                                    <input type="text" id="type_operator" class="form-control input-sm" placeholder="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-example-int form-horizental mg-t-15">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <label class="hrzn-fm">รูปแบบการให้คูปองวิทย์เพื่อโอทอป</label>
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <div class="nk-int-st">
                                    <input type="text" id="consideration_model" class="form-control input-sm" placeholder="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--<div class="form-example-int form-horizental mg-t-15 ">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <label class="hrzn-fm">Group</label>
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <div class="bootstrap-select fm-cmp-mg">
                                    <select id="computer_group" class="form-control input-sm">-->
                                        <!--
    									<option>Drama</option>
    									<option>Cariska</option>
                                        -->
    								<!--</select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>-->
                <div class="form-example-int mg-t-15">
                    <div class="row">
                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                        </div>
                        <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                            <!--
                            <button type="button" id="prev" class="btn btn-success fa fa-arrow-circle-left" style="font-size: 20px;"></button>
                            <button type="button" id="next" class="btn btn-success fa fa-arrow-circle-right" style="font-size: 20px;"></button>
                            -->
                            <!--button type="button" id="load" class="btn btn-success notika-btn-success">Load</button-->
                            <button type="button" id="save" class="btn btn-success notika-btn-success">Save</button>
                            <button type="button" id="delete" class="btn btn-danger notika-btn-danger">Delete</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

</div>

<script language="JavaScript">

var sql;
var count;
var computers;
var index = 0;
var table;
var selected = -1;

$( document ).ready(function() {

    // Load computer group via ajax and assign to select
    /*--load_group();
    function load_group(){
        jQuery.ajax({
            url: '/t/api/group',
            dataType: 'json'
        })
        .done(function(result){
            //alert(JSON.stringify(result));
            $('#computer_group').select2({
                placeholder: "Computer Group",
                data: result.groups
            });
        })
        .fail(function( jqXHR, textStatus ) {
            alert( "Request computer group failed: " + textStatus );
        });
    }--*/

    // Load computer <ul class="list-group">
    load_computer();
    function load_computer(){
        jQuery.ajax({
            url: '/t/api/load',
            dataType: 'json'
        })
        .done(function(result){
            //alert(JSON.stringify(result));
            computers = result.computers;
            table = $('#data-table-basic').DataTable({
                lengthChange: false,
                info: false,
                autoWidth: false,
                select: true,
                data: computers,
                columns: [
                    { "data": "prop_ID" },
                    { "data": "prop_type" },
                    { "data": "prop_name" },
                    { "data": "name_applicant" },
                    { "data": "number_applicat" },
                    { "data": "prop_address" },
                    { "data": "prop_contact" },
                    { "data": "name_tech_advisor" },
                    { "data": "number_tech_advisor" },
                    { "data": "name_center_expertise" },
                    { "data": "project_budget" },
                    { "data": "business_name" },
                    { "data": "project_timeline" },
                    { "data": "type_operator" },
                    { "data": "consideration_model" }
                    ],
                   
                dom: '<"top">rt<"bottom"fp><"clear">'
            });
            $('#data-table-basic tbody').on('click', 'tr', function(){
                index = table.row(this).index();
                selected = index;
                show_computer(index);
            });
        })
        .fail(function( jqXHR, textStatus ) {
            alert( "Request computer list failed: " + textStatus );
        });
    }

    $('#load').click(function(){
        jQuery.ajax({
            url: '/t/api/load',
            dataType: 'json'
        })
        .done(function(result){
            //alert(JSON.stringify(result));
            sql = result.sql;
            count = result.count;
            computers = result.computers;
            index = 0;
            show_computer(index);
        })
        .fail(function( jqXHR, textStatus ) {
            alert( "Request failed: " + textStatus );
        });
    });

    $('#form-computer').validator().on('submit', function (e) {
        if (e.isDefaultPrevented()) {
            // handle the invalid form...
            alert('กรุณากรอกข้อมูลที่จำเป็น โดยสังเกตุจากช่องกรอกที่มีกรอบสีแดง');
        } else {
            // everything looks good!
            e.preventDefault();
            jQuery.ajax({
                url: '/t/api/save',
                method: 'GET',
                data: {
                    prop_ID: $('#prop_ID').val(),
                    prop_type: $('#prop_type').val(),
                    prop_name: $('#prop_name').val(),
                    name_applicant: $('#name_applicant').val(),
                    number_applicat: $('#number_applicat').val(),
                    prop_address: $('#prop_address').val(),
                    prop_contact: $('#prop_contact').val(),
                    name_tech_advisor: $('#name_tech_advisor').val(),
                    number_tech_advisor: $('#number_tech_advisor').val(),
                    name_center_expertise: $('#name_center_expertise').val(),
                    project_budget: $('#project_budget').val(),
                     business_name: $('#business_name').val(),
                    project_timeline: $('#project_timeline').val(),
                    type_operator: $('#type_operator').val(),
                    consideration_model: $('#consideration_model').val()
                   
                },
                dataType: 'json'
            })
            .done(function(result){
                //alert(JSON.stringify(result));
                sql = result.sql;
                count = result.count;
                computers = result.computers;
                index = 0;

                table.clear().draw();
                table.rows.add(computers);
                table.columns.adjust().draw();

                show_computer(index);
                alert('Your data was saved');
            })
            .fail(function( jqXHR, textStatus ) {
                alert( "Request failed: " + textStatus );
            });
        }
    });

    $('#save').click(function(){

        $('#form-computer').submit();

    });

    $('#delete').click(function(){

        if(selected>=0){
            r = confirm("Are you sure to deleting computer?"+
                        "\n   prop_ID: "+computers[selected].prop_ID+
                        "\n   prop_type: "+computers[selected].prop_type);
            if(r){
                jQuery.ajax({
                    url: '/t/api/delete',
                    method: 'GET',
                    data: {
                        prop_ID: computers[selected].prop_ID
                    },
                    dataType: 'json'
                })
                .done(function(result){
                    //alert(JSON.stringify(result));
                    sql = result.sql;
                    count = result.count;
                    computers = result.computers;
                    index = 0;

                    table.clear().draw();
                    table.rows.add(computers);
                    table.columns.adjust().draw();

                    show_computer(index);
                    alert('Your computer was deleted');
                })
                .fail(function( jqXHR, textStatus ) {
                    alert( "Request failed: " + textStatus );
                });
            }
        }
    });

    $('#prev').click(function(){
        if(index > 0) {
            index--;
            show_computer(index);
        }
    });
    $('#next').click(function(){
        if(index < (computers.length-1)) {
            index++;
            show_computer(index);
        }
    });

    function show_computer(index){
        $('#prop_ID').val(computers[index].prop_ID);
        $('#prop_type').val(computers[index].prop_type);
        $('#prop_name').val(computers[index].prop_name);
        $('#name_applicant').val(computers[index].name_applicant);
        $('#number_applicat').val(computers[index].number_applicat);
        $('#prop_address').val(computers[index].prop_address);
        $('#prop_contact').val(computers[index].prop_contact);
        $('#name_tech_advisor').val(computers[index].name_tech_advisor);
        $('#number_tech_advisor').val(computers[index].number_tech_advisor);
        $('#name_center_expertise').val(computers[index].name_center_expertise);
        $('#project_budget').val(computers[index].project_budget);
        $('#business_name').val(computers[index].business_name);
        $('#project_timeline').val(computers[index].project_timeline);
        $('#type_operator').val(computers[index].type_operator);
        $('#consideration_model').val(computers[index].consideration_model);
        
        
    }

});

</script>
                  
      </div>
      <!--Footer-->
    </div>
    <!--/.Content-->
  </div>
</div>
<!-- End Modal Resigter-->
        </div>
        <!-- content-wrapper ends -->
